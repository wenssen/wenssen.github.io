<!DOCTYPE html>
<html lang="es" data-theme="dark">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wenssen</title>
    <link rel="icon" type="image/x-icon" href="https://r2.fivemanage.com/QBZImXH97i1lTcf12q0mM/images/wenssen1.png">

    <!-- Ajustado: sin Minecraft -->
    <meta name="description" content="Wenssen RP — Servidor FiveM. Roleplay serio, trabajos, economía, eventos y comunidad."/>
    
    <link rel="stylesheet" href="style.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  </head>

<body>
  <div class="background-video">
    <!-- <video autoplay muted loop playsinline id="bgVideo">
      <source src="video/background.mp4" type="video/mp4">
    </video> -->
    <div class="video-overlay"></div>
  </div>

  <header class="main-header">
    <div class="header-bg-animation"></div>
    <div class="nav-container">
      <div class="nav-left">
        <a href="/" class="logo">
          <img src="https://r2.fivemanage.com/QBZImXH97i1lTcf12q0mM/images/wenssen1.png" alt="Wenssen RP">
        </a>

        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Abrir Menú">
          <i class="fas fa-bars"></i>
        </button>

        <ul class="nav-links" id="navLinks">
          <li><a href="index.html" class="nav-link active">RESUMEN</a></li>
          <li><a href="servers.html" class="nav-link">WHITELIST</a></li>
          <li><a href="community.html" class="nav-link">COMUNIDAD</a></li>
          <li><a href="wiki.html" class="nav-link">WIKI</a></li>
        </ul>
      </div>

      <div class="nav-right">
        <div class="server-status-mini">
          <div class="footer-social">
            <a href="https://discord.gg/FMFYqA3zYx" class="discord" data-aos="fade-left" data-aos-delay="100"><i class="fab fa-discord"></i></a>
            <a href="https://www.youtube.com/@wenssen" class="youtube" data-aos="fade-left" data-aos-delay="300"><i class="fab fa-youtube"></i></a>
            <a href="https://www.tiktok.com/@wenssenrp" class="tiktok" data-aos="fade-left" data-aos-delay="400"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
      </div>
    </div>
    <div class="nav-overlay" id="navOverlay"></div>
  </header>

  <main>
    <section class="hero-section">
      <!-- Corregido: particlesJS busca un ID -->
      <div id="hero-particles" class="hero-particles"></div>

      <div class="hero-content">
        <div class="hero-text" data-aos="fade-up" data-aos-duration="1000">
          <h1 class="glowing-text">WENSSEN</h1>
          <p class="hero-description" data-aos="fade-up" data-aos-delay="200">
            No es un juego, es una realidad paralela. Y empieza aquí.
          </p>

          <div class="hero-buttons" data-aos="fade-up" data-aos-delay="400">
            <a href="https://discord.gg/vZw54TUW7G" class="primary-btn pulse-btn">
              <span class="btn-content">
                <i class="fas fa-play"></i>
                ENTRAR AL SERVIDOR
              </span>
            </a>
            <a href="https://discord.gg/FMFYqA3zYx" class="secondary-btn glow-btn">
              <span class="btn-content">
                <i class="fab fa-discord"></i>
                UNIRSE AL DISCORD
              </span>
            </a>
          </div>
        </div>

        <div class="hero-stats" data-aos="fade-up" data-aos-delay="600">
          <div class="stat-item">
            <i class="fas fa-users"></i>
            <span id="playerCount">Cargando...</span>
            <p id="playerStatusMessage">Jugadores en línea</p>
          </div>
        </div>
      </div>
    </section>

    <section class="features-section">
      <div class="section-header" data-aos="fade-up">
        <h2>¿QUÉ ENCUENTRAS EN WENSSEN RP?</h2>
        <p>Roleplay, economía, trabajos, eventos y una comunidad activa</p>
      </div>

      <div class="features-grid">
        <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
          <div class="feature-icon">
            <i class="fas fa-user-tie"></i>
          </div>
          <h3>Roleplay Serio</h3>
          <p>Interpretación, leyes, facciones y una ciudad viva con decisiones que importan.</p>
          <a href="wiki.html" class="feature-btn">Saber Más</a>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
          <div class="feature-icon">
            <i class="fas fa-briefcase"></i>
          </div>
          <h3>Trabajos & Economía</h3>
          <p>Progresión real: empleos, negocios, mercado, inventario y mejoras.</p>
          <a href="wiki.html" class="feature-btn">Saber Más</a>
        </div>

        <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
          <div class="feature-icon">
            <i class="fas fa-flag-checkered"></i>
          </div>
          <h3>Eventos & Carreras</h3>
          <p>Eventos semanales, carreras, actividades y recompensas para la comunidad.</p>
          <a href="community.html" class="feature-btn">Saber Más</a>
        </div>
      </div>
    </section>

    <section class="news-section">
      <div class="section-header" data-aos="fade-up">
        <h2>ÚLTIMAS NOVEDADES</h2>
        <p>Actualizaciones del servidor, eventos y cambios importantes</p>
      </div>

      <div class="news-grid">
        <div class="news-card" data-aos="fade-up" data-aos-delay="100">
          <div class="news-content">
            <div class="news-meta">
              <span class="date">Próximamente</span>
              <span class="category">Actualización</span>
            </div>
            <h3>Nuevas mecánicas RP</h3>
            <p>Ajustes de economía, calidad de vida y mejoras de rendimiento.</p>
            <a href="community.html" class="news-btn">Leer Más</a>
          </div>
        </div>

        <div class="news-card" data-aos="fade-up" data-aos-delay="200">
          <div class="news-content">
            <div class="news-meta">
              <span class="date">Próximamente</span>
              <span class="category">Evento</span>
            </div>
            <h3>Evento comunitario</h3>
            <p>Actividad abierta con premios y participación de facciones.</p>
            <a href="community.html" class="news-btn">Leer Más</a>
          </div>
        </div>

        <div class="news-card" data-aos="fade-up" data-aos-delay="300">
          <div class="news-content">
            <div class="news-meta">
              <span class="date">Próximamente</span>
              <span class="category">Whitelist</span>
            </div>
            <h3>Proceso de ingreso</h3>
            <p>Revisa requisitos y pasos para entrar con whitelist.</p>
            <a href="servers.html" class="news-btn">Leer Más</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <div class="footer-left" data-aos="fade-right">
        <!-- Si quieres, cambia img/logo.png por tu logo real -->
        <img src="https://r2.fivemanage.com/QBZImXH97i1lTcf12q0mM/images/wenssen1.png" alt="Wenssen RP" class="footer-logo">
        <p>© 2024 Wenssen RP — Todos los derechos reservados</p>
      </div>

      <div class="footer-social" data-aos="fade-left">
        <a href="https://discord.gg/FMFYqA3zYx" class="discord"><i class="fab fa-discord"></i></a>
        <a href="https://www.youtube.com/@wenssen" class="youtube"><i class="fab fa-youtube"></i></a>
        <a href="https://www.tiktok.com/@wenssenrp" class="tiktok"><i class="fab fa-tiktok"></i></a>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
  <script src="js/main.js"></script>

  <script>
    AOS.init({
      duration: 1000,
      once: true,
      mirror: false
    });

    // Particles.js
    particlesJS('hero-particles', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: '#00ff88' },
        shape: { type: 'circle' },
        opacity: { value: 0.5, random: true },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: '#00ff88',
          opacity: 0.2,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: 'none',
          random: true,
          straight: false,
          out_mode: 'out',
          bounce: false
        }
      },
      interactivity: {
        detect_on: 'canvas',
        events: {
          onhover: { enable: true, mode: 'repulse' },
          onclick: { enable: true, mode: 'push' },
          resize: true
        }
      },
      retina_detect: true
    });

    // Efecto scroll header
    let lastScroll = 0;
    const header = document.querySelector('.main-header');
    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;
      if (currentScroll <= 0) {
        header.classList.remove('scroll-up');
        return;
      }
      if (currentScroll > lastScroll && !header.classList.contains('scroll-down')) {
        header.classList.remove('scroll-up');
        header.classList.add('scroll-down');
      } else if (currentScroll < lastScroll && header.classList.contains('scroll-down')) {
        header.classList.remove('scroll-down');
        header.classList.add('scroll-up');
      }
      lastScroll = currentScroll;
    });

    // Obtener jugadores en línea y capacidad
    async function getPlayerCount() {
      const playerCountEl = document.getElementById("playerCount");
      const statusMsgEl = document.getElementById("playerStatusMessage");

      try {
        const [playersRes, infoRes] = await Promise.all([
          fetch("http://45.236.90.170:30120/players.json"),
          fetch("http://45.236.90.170:30120/info.json")
        ]);

        const players = await playersRes.json();
        const info = await infoRes.json();

        const maxPlayers = info?.vars?.sv_maxClients || 64;
        const currentPlayers = Array.isArray(players) ? players.length : 0;

        playerCountEl.textContent = `${currentPlayers}/${maxPlayers}`;
        statusMsgEl.textContent = currentPlayers === 0
          ? "No hay jugadores conectados"
          : "Jugadores en línea";
      } catch (error) {
        playerCountEl.textContent = "Offline";
        statusMsgEl.textContent = "Servidor inalcanzable";
        console.error("Error obteniendo datos del servidor:", error);
      }
    }

    getPlayerCount();
    setInterval(getPlayerCount, 15000);
  </script>
</body>
</html>
