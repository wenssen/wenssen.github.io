<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario - Wenssen</title>
  <link rel="icon" type="image/x-icon" href="https://r2.fivemanage.com/QBZImXH97i1lTcf12q0mM/images/wenssen1.png">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Akrobat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    .formulario {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      padding: 2rem;
      background-color: #111;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.1);
    }

    .formulario label {
      font-weight: 600;
      color: #fff;
    }

    .formulario input,
    .formulario textarea,
    .formulario select {
      padding: 10px;
      font-size: 1rem;
      border-radius: 6px;
      border: none;
      width: 100%;
      background-color: #222;
      color: #fff;
    }

    .formulario input:focus,
    .formulario textarea:focus,
    .formulario select:focus {
      outline: 2px solid #00ff88;
    }

    .formulario button.primary-btn {
      background-color: #00c6a2;
      color: white;
      padding: 12px;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .formulario button.primary-btn:hover {
      background-color: #00ff88;
    }
  </style>
</head>
<body>
  <header class="main-header">
    <div class="nav-container">
      <div class="nav-left">
        <a href="index.html" class="logo">
          <img src="https://r2.fivemanage.com/QBZImXH97i1lTcf12q0mM/images/wenssen1.png" alt="Logo Wenssen">
        </a>
        <ul class="nav-links">
          <li><a href="index.html" class="nav-link">RESUMEN</a></li>
          <li><a href="servers.html" class="nav-link active">FORMULARIO</a></li>
          <li><a href="community.html" class="nav-link">COMUNIDAD</a></li>
          <li><a href="wiki.html" class="nav-link">WIKI</a></li>
        </ul>
      </div>
    </div>
    <div class="nav-overlay"></div>
  </header>

  <main class="container" style="padding: 8rem 1rem 4rem;">
    <div class="page-header">
      <div class="header-content">
        <h1>POSTULACI√ìN</h1>
        <p>Llena este formulario para entrar a nuestros servidores.</p>
      </div>
    </div>

    <form class="formulario" id="whitelistForm">
      <h2>Ficha de Personaje - Wenssen RP</h2>

      <label for="username">Nombre del personaje</label>
      <input type="text" id="username" name="username" required />

      <label for="age">Edad</label>
      <input type="number" id="age" name="age" required min="16" max="90" />

      <label for="discordId">Discord ID</label>
      <input  type="text"  id="discordId"  name="discordId"  required  inputmode="numeric"  pattern="^\d{17,19}$"  minlength="17"  maxlength="19"/>


      <label for="origin">¬øD√≥nde naci√≥ tu personaje?</label>
      <textarea id="origin" name="origin" rows="3" maxlength="50" required placeholder="¬øDentro de Wenssen? ¬øFuera del muro? ¬øRefugiado, criado por el sistema...?"></textarea>

      <label for="aspiration">¬øA qu√© facci√≥n aspira pertenecer?</label>
      <select id="aspiration" name="aspiration" required>
        <option value="">-- Elige una opci√≥n --</option>
        <option value="WEMS">WEMS - Servicios M√©dicos</option>
        <option value="WPD">WPD - Polic√≠a de Wenssen</option>
        <option value="Delictual">Delictual - Actividades Ilegales</option>
      </select>

      <label for="background">Historia del personaje</label>
      <textarea id="background" name="background" rows="5" maxlength="700" required placeholder="Su historia, motivaciones pasadas, eventos importantes..."></textarea>

      <label for="job">¬øCu√°l es su ocupaci√≥n actual?</label>
      <textarea id="job" name="job" rows="2" maxlength="50" required placeholder="Ej: T√©cnico, comerciante, criminal, civil..."></textarea>

      <label for="goals">Objetivos o motivaciones</label>
      <textarea id="goals" name="goals" rows="3" maxlength="310" required></textarea>

      <label for="skills">Fortalezas / Habilidades</label>
      <textarea id="skills" name="skills" rows="2" maxlength="240" required placeholder="Ej: liderazgo, hackeo, manipulaci√≥n, medicina, etc."></textarea>

      <label for="flaws">Debilidades / Defectos</label>
      <textarea id="flaws" name="flaws" rows="2" maxlength="255" required placeholder="Ej: paranoia, impulsividad, falta de empat√≠a..."></textarea>

      <label for="secret">¬øOculta alg√∫n secreto?</label>
      <textarea id="secret" name="secret" rows="3" maxlength="265" placeholder="Opcional. Algo que podr√≠a salir a la luz en rol..."></textarea>

      <button type="submit" class="primary-btn" style="margin-top: 1rem;">
        <i class="fas fa-paper-plane"></i> Enviar Ficha
      </button>
    </form>
  </main>

   <!-- Footer implementado -->
  <footer>
    <div class="footer-content">
      <div class="footer-left">
        <img src="img/wenssen_logo_sin_fondo.png" alt="Wenssen" class="footer-logo">
        <p>¬© 2025 Wenssen RP ‚Äî ‚ÄúVive la historia, crea tu realidad‚Äù.</p>
      </div>
      <div class="footer-social">
        <a href="https://discord.gg/FMFYqA3zYx" class="discord"><i class="fab fa-discord"></i></a>
        <a href="https://www.youtube.com/@wenssen" class="youtube"><i class="fab fa-youtube"></i></a>
        <a href="https://www.tiktok.com/@wenssenrp" class="tiktok"><i class="fab fa-tiktok"></i></a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('whitelistForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const username = document.getElementById('username').value;
      const age = document.getElementById('age').value;
      const discordId = document.getElementById('discordId').value;
      const origin = document.getElementById('origin').value;
      const aspiration = document.getElementById('aspiration').value;
      const background = document.getElementById('background').value;
      const job = document.getElementById('job').value;
      const goals = document.getElementById('goals').value;
      const skills = document.getElementById('skills').value;
      const flaws = document.getElementById('flaws').value;
      const secret = document.getElementById('secret').value;

      const webhookURL = 'https://discord.com/api/webhooks/1414986593692811275/TvQx_UQH1hvrcMYU_BnTTmIRZw4qbzO73Imkfc9Y5iJDX6jq1_q0SWvCDb89jLk28wbe';

      const payload = {
        content: "<@&1368019844724818021>", // Menciona al rol
        embeds: [
          {
            title: "üì• Nueva postulaci√≥n Whitelist",
            color: 0x00ff88,
            fields: [
              { name: "üë§ Usuario", value: username, inline: true },
              { name: "üéÇ Edad", value: age, inline: true },
              { name: "üí¨ Discord ID", value: discordId, inline: true },
              { name: "üåç Origen", value: origin },
              { name: "üè≥Ô∏è Aspiraci√≥n", value: aspiration },
              { name: "üìñ Historia", value: background },
              { name: "üíº Ocupaci√≥n actual", value: job },
              { name: "üéØ Objetivos", value: goals },
              { name: "üí™ Habilidades", value: skills },
              { name: "‚ö†Ô∏è Defectos", value: flaws },
              { name: "üïµÔ∏è Secreto", value: secret || "Ninguno" }
            ],
            footer: {
              text: "Wenssen RP - Sistema de Whitelist",
              icon_url: "https://r2.fivemanage.com/QBZImXH97i1lTcf12q0mM/images/wenssen1.png"
            },
            timestamp: new Date().toISOString()
          }
        ]
      };

      try {
        const response = await fetch(webhookURL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        if (response.ok) {
          alert('‚úÖ ¬°Formulario enviado correctamente!');
          this.reset();
        } else {
          alert('‚ùå Error al enviar formulario. Intenta m√°s tarde.');
        }
      } catch (error) {
        console.error(error);
        alert('‚ùå Error de conexi√≥n. Verifica tu red.');
      }
    });
  </script>
</body>
</html>
